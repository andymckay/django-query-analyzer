{% load i18n %}
<html>

    <head>
        <link href="{{ ADMIN_MEDIA_PREFIX }}css/base.css" rel="stylesheet" type="text/css" />
        <link href="{{ ADMIN_MEDIA_PREFIX }}css/dashboard.css" rel="stylesheet" type="text/css" />
        <link href="{{ ADMIN_MEDIA_PREFIX }}css/forms.css" rel="stylesheet" type="text/css" />
        <link href="{{ ADMIN_MEDIA_PREFIX }}css/widgets.css" rel="stylesheet" type="text/css" />
    </head>

    <body>

        <form method="get">
            <dl>
                <dt>{% trans "SQL" %}</dt>
                <dd>
                    <textarea name="sql">{{ sql|safe }}</textarea>
                    <input type="submit" value="Execute" />
                </dd>
            </dl>
        </form>

        {% if sql %}
        {% blocktrans %}
        <p>The query executed in {{ duration }} milliseconds.</p>
        {% endblocktrans %}
        {% endif %}

        <h2>{{ select_result|length }} row{{ select_result|pluralize }} returned</h2>
        {% if select_result %}
        <table>
            <thead>
                <tr>
                    {% for h in select_headers %}
                        <th>{{ h|upper }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in select_result %}
                    <tr class="{% cycle 'djDebugOdd' 'djDebugEven' %}">
                        {% for column in row %}
                            <td>{{ column|escape }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}

        {% if explain_result %}
        <h2>Explanation</h2>
        <table>
            <thead>
                <tr>
                    {% for h in explain_headers %}
                        <th>{{ h|upper }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in explain_result %}
                    <tr class="{% cycle 'djDebugOdd' 'djDebugEven' %}">
                        {% for column in row %}
                            <td>{{ column|escape }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </body>

</html>
